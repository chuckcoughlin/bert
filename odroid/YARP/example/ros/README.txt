Before trying these examples, make sure you read:

  http://wiki.icub.org/wiki/YARP_ROS_Interoperation

There are prerequisites.

Make sure you run:

$ yarpidl_rosmsg String

to generate String.h (required to compile listener.cpp talker.cpp) 
