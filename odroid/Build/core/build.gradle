/*
 * This gradle file builds and installs the "core" C++ code.
 * gcc -march=armv8-a+crc
 */

plugins {
	id 'cpp'
}

model {
    toolChains {
        gcc(Gcc) {
            path "/usr/bin/gcc"
        }
    }
	platforms {
        arm {
            architecture "arm64"
			operatingSystem "linux"
        }
	}
    components {
        main(NativeExecutableSpec) {
			targetPlatform "arm"
            sources {
                cpp {
                    source {
                        srcDir "../../Core"
                        include "**/*.cpp"
                    }
                    }
                }
            }
        }
    }


/*
 * Copy the executable file to the robot
 */
task install {
	project.logger.info( "Installing ...")
}
